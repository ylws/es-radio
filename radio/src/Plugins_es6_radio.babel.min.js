"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),CFCMRadio=function(){function e(t,n){_classCallCheck(this,e),this.initVal(t,n)}return _createClass(e,[{key:"getId",value:function(e){return document.getElementById(e)}},{key:"getIdClass",value:function(e,t){return document.getElementById(e).querySelector("."+t)}},{key:"getClassAll",value:function(e){return document.querySelectorAll(e)}},{key:"remove",value:function(e){var t=e.parentNode;t&&t.removeChild(e)}},{key:"initVal",value:function(e,t){var n={father:".radiofather span",selected:"radioed",select:"radio",init:{index:0,val:!0},multline:{flag:!1,class:"",index:null},inputflag:!1,disabled:!1};this.cfg={};_extends(this.cfg,n,e);this.cfg.arg=_typeof(arguments[0]),this.cfg.len=arguments.length,this.cfg.fn=t,this.cfg.multline.flag&&this.cfg.multline.index&&(this.cfg.init.index=this.cfg.multline.index),this.initCommonVal()}},{key:"initCommonVal",value:function(){var e=this,t=document.querySelectorAll(this.cfg.father);Array.prototype.slice.call(t).forEach(function(t,n){e.cfg.inputflag&&(t.querySelector("input[type=radio]").style.display="none"),e.cfg.init.val&&e.cfg.init.index==n?(e.cfg.inputflag&&t.querySelector("input[type=radio]").setAttribute("checked",e.cfg.init.val),t.setAttribute("class",e.cfg.selected)):e.cfg.inputflag?t.querySelector("input[type=radio]").getAttribute("checked")&&t.setAttribute("class",e.cfg.selected):t.setAttribute("class",e.cfg.select)}),this.clickEvent()}},{key:"siblings",value:function(e){for(var t=[],n=e.previousSibling;n;)1===n.nodeType&&t.push(n),n=n.previousSibling;t.reverse();for(var i=e.nextSibling;i;)1===i.nodeType&&t.push(i),i=i.nextSibling;return t}},{key:"parents",value:function(e,t){return e.className==t?e:(e=e.parentNode,this.parents(e,t))}},{key:"clickEvent",value:function(){if(!this.cfg.disabled){var e=this,t=document.querySelectorAll(this.cfg.father);Array.prototype.slice.call(t).forEach(function(t,n){t.addEventListener("click",function(){if(t.getAttribute("class")==e.cfg.select)if(t.setAttribute("class",e.cfg.selected),e.cfg.inputflag&&t.querySelector("input[type=radio]").setAttribute("checked",e.cfg.init.val),e.cfg.multline.flag)(n=e.siblings(t.parentNode)).forEach(function(t){t.querySelector("span").setAttribute("class",e.cfg.select),e.cfg.inputflag&&t.querySelector("span").querySelector("input[type=radio]").removeAttribute("checked")});else{var n=e.siblings(t);n.forEach(function(t){t.setAttribute("class",e.cfg.select),e.cfg.inputflag&&t.querySelector("input[type=radio]").removeAttribute("checked")})}if(1==e.cfg.len&&"function"===e.cfg.arg)e.cfg.fn();else if("function"==typeof e.cfg.fn){var i="",r="";e.cfg.fatheridclass?e.parents(t,e.cfg.mutline.class.substring(1)).getAttribute("id")&&(i=e.parents(t,e.cfg.multline.class.substring(1)).getAttribute("id")):t.parentNode.getAttribute("id")&&(i=t.parentNode.getAttribute("id")),e.cfg.inputflag&&t.querySelector("input[type=radio]").defaultValue&&(r=t.querySelector("input[type=radio]").defaultValue),console.log(r+"---"+i),i&&r?e.cfg.fn(i,r):i&&!r?e.cfg.fn(i):r&&!i?e.cfg.fn(r):e.cfg.fn()}},!1)})}}}]),e}();
export function CFCMRadio(param, fn) {
		return new CFCMRadio(param, fn)
	}